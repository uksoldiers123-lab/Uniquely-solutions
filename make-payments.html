<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Make a Payment — Uniquity Solutions</title>
  <meta name="description" content="Pay an invoice or statement securely with Uniquity Solutions. Card or ACH, PCI-compliant, instant confirmation." />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css?v=8">
</head>
<body>
  <!-- Navbar (same as index, interior links point back to index sections) -->
  <!-- Navbar -->
  <nav class="nav" aria-label="Primary">
    <div class="container nav-inner">
      <a class="brand" href="index.html">
        <span class="brand-mark" aria-hidden="true"></span>
        Uniquity Solutions
      </a>

      <div class="nav-links">
        <!-- On-page items -->
        <a href="index.html">Home</a>
        <a href="#services">Services</a>
        <a href="#partners">Partners</a>
        <a href="#careers">Careers</a>

        <!-- Desktop-only dropdown for separate pages -->
        <div class="dropdown" data-dropdown>
          <button class="drop-toggle" type="button" data-toggle aria-haspopup="true" aria-expanded="false">
            Get Started
            <svg class="drop-caret" width="14" height="14" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M6 9l6 6 6-6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </button>
          <div class="drop-menu" data-menu role="menu">
            <a href="make-payments.html" role="menuitem">Make a Payment</a>
            <a href="create-account.html" role="menuitem">Create Account (Merchants)</a>
            <a href="faq.html" role="menuitem">FAQ</a>
            <a href="pricing.html" role="menuitem">Pricing</a>
            <a href="developers.html" role="menuitem">Developers & API</a>
            <a href="integrations.html" role="menuitem">Integrations</a>
            <a href="compliance.html" role="menuitem">Compliance & Security</a>
            <a href="login.html" role="menuitem">Login Portal</a>
          </div>
        </div>
      </div>
    </div>
  </nav>

  <main id="content">
    <!-- Hero -->
    <section class="section hero hero-internal">
      <div class="container">
        <h1>Make a Payment</h1>
        <p class="lead">Pay an invoice or statement securely. No account required.</p>
      </div>
    </section>

    <!-- Payment form -->
    <section class="section">
      <div class="container grid-2">
        <div class="card">
          <form id="payment-form" action="#" method="post" novalidate>
            <fieldset class="fieldset">
              <legend>Payer information</legend>
              <div class="field">
                <label for="payerName">Full name</label>
                <input id="payerName" name="payerName" type="text" autocomplete="name" required>
              </div>
              <div class="field">
                <label for="payerEmail">Email for receipt</label>
                <input id="payerEmail" name="payerEmail" type="email" autocomplete="email" required>
              </div>
              <div class="field">
                <label for="payerPhone">Phone (optional)</label>
                <input id="payerPhone" name="payerPhone" type="tel" autocomplete="tel">
              </div>
            </fieldset>

            <fieldset class="fieldset">
              <legend>Payment details</legend>
              <div class="field">
                <label for="invoiceNumber">Invoice or account number</label>
                <input id="invoiceNumber" name="invoiceNumber" type="text" required>
              </div>
              <div class="field">
                <label for="amount">Amount (USD)</label>
                <input id="amount" name="amount" type="number" step="0.01" min="1" inputmode="decimal" required>
              </div>
              <div class="field">
                <label for="memo">Memo (optional)</label>
                <input id="memo" name="memo" type="text" maxlength="120" placeholder="Add a note for the merchant">
              </div>
            </fieldset>

            <fieldset class="fieldset">
              <legend>Payment method</legend>
              <div class="field inline">
                <label class="radio">
                  <input type="radio" name="method" value="card" checked>
                  <span>Card</span>
                </label>
                <label class="radio">
                  <input type="radio" name="method" value="ach">
                  <span>Bank (ACH)</span>
                </label>
              </div>

              <!-- Hosted fields placeholder (replace with gateway tokenized fields) -->
              <div class="hosted-fields">
                <div class="field">
                  <label for="cardNumber">Card number</label>
                  <input id="cardNumber" name="cardNumber" inputmode="numeric" autocomplete="cc-number" placeholder="•••• •••• •••• ••••" required>
                </div>
                <div class="field group">
                  <div>
                    <label for="cardExp">Expiration</label>
                    <input id="cardExp" name="cardExp" inputmode="numeric" autocomplete="cc-exp" placeholder="MM/YY" required>
                  </div>
                  <div>
                    <label for="cardCvc">CVC</label>
                    <input id="cardCvc" name="cardCvc" inputmode="numeric" autocomplete="cc-csc" placeholder="CVC" required>
                  </div>
                </div>
                <div class="field">
                  <label for="billingZip">Billing ZIP</label>
                  <input id="billingZip" name="billingZip" inputmode="numeric" autocomplete="postal-code" required>
                </div>
              </div>

              <div class="ach-fields" hidden>
                <div class="field">
                  <label for="routing">Routing number</label>
                  <input id="routing" name="routing" inputmode="numeric" autocomplete="off">
                </div>
                <div class="field">
                  <label for="account">Account number</label>
                  <input id="account" name="account" inputmode="numeric" autocomplete="off">
                </div>
                <p class="help">For production, connect your bank via a secure tokenized flow (e.g., hosted bank verification) instead of plain inputs.</p>
              </div>
            </fieldset>

            <div class="field checkbox">
              <label>
                <input id="agree" name="agree" type="checkbox" required>
                <span>I authorize this payment and agree to the terms of service and refund policy.</span>
              </label>
            </div>

            <div class="actions">
              <button type="submit" class="btn btn-primary">Continue to secure checkout</button>
              <p class="help small">You’ll review your details before submitting. Do not include sensitive data in the memo field.</p>
            </div>

            <div class="form-status" aria-live="polite"></div>
          </form>
        </div>

        <aside class="card">
          <div class="stack">
            <h2>Need help?</h2>
            <ul class="list">
              <li>Have your invoice or account number ready.</li>
              <li>For payment issues, contact support: <a href="mailto:support@uniquitysolutions.com">support@uniquitysolutions.com</a></li>
              <li>Business hours: Mon–Fri, 9am–6pm ET</li>
            </ul>

            <h3>Security & compliance</h3>
            <ul class="list">
              <li>PCI DSS Level 1</li>
              <li>Encrypted transmission (TLS 1.2+)</li>
              <li>Tokenized card data via hosted fields</li>
            </ul>
            <p class="small">Learn more: <a href="compliance.html">Compliance</a> · <a href="security.html">Security</a></p>
          </div>
        </aside>
      </div>
    </section>

    <!-- Trust band -->
    <section class="section section-muted">
      <div class="container">
        <div class="strip">
          <div class="strip-item">
            <strong>20+ years</strong>
            <span>Trusted payments</span>
          </div>
          <div class="strip-item">
            <strong>99.99%</strong>
            <span>Platform uptime</span>
          </div>
          <div class="strip-item">
            <strong>24/7</strong>
            <span>Fraud monitoring</span>
          </div>
        </div>
      </div>
    </section>

    <!-- FAQ preview -->
    <section class="section">
      <div class="container">
        <h2>Frequently asked questions</h2>
        <details>
          <summary>Do I need an account to pay?</summary>
          <p>No, you can pay as a guest. Receipts are sent to the email you provide.</p>
        </details>
        <details>
          <summary>What cards and banks are supported?</summary>
          <p>All major cards and most U.S. banks. ACH may take 3–5 business days to settle.</p>
        </details>
        <p><a class="btn btn-link" href="faq.html">See all FAQs</a></p>
      </div>
    </section>

    <!-- Merchant CTA -->
    <section class="section section-accent">
      <div class="container">
        <div class="cta">
          <h2>Are you a business looking to accept payments?</h2>
          <p>Create a merchant account and start taking card and ACH payments online, in-person, or via API.</p>
          <a class="btn btn-light" href="create-account.html">Create merchant account</a>
        </div>
      </div>
    </section>
  </main>

  <!-- Footer -->
  <footer class="footer">
    <div class="container footer-inner">
      <div class="footer-brand">
        <span class="brand-mark" aria-hidden="true"></span>
        <strong>Uniquity Solutions</strong>
        <span class="small">© <span id="year"></span> All rights reserved.</span>
      </div>
      <nav class="footer-links" aria-label="Footer">
        <a href="pricing.html">Pricing</a>
        <a href="developers.html">Developers</a>
        <a href="integrations.html">Integrations</a>
        <a href="compliance.html">Compliance</a>
        <a href="security.html">Security</a>
        <a href="faq.html">FAQ</a>
      </nav>
    </div>
  </footer>

  <script>
    // Interior UX helpers (optional; remove if handled globally)
    document.getElementById('year').textContent = new Date().getFullYear();

    // Toggle ACH vs Card fields
    const methodRadios = document.querySelectorAll('input[name="method"]');
    const hosted = document.querySelector('.hosted-fields');
    const ach = document.querySelector('.ach-fields');
    methodRadios.forEach(r => r.addEventListener('change', () => {
      const isACH = r.value === 'ach' && r.checked;
      ach.hidden = !isACH;
      hosted.hidden = isACH;
      // Toggle required attributes appropriately
      hosted.querySelectorAll('input').forEach(i => i.required = !isACH);
      ach.querySelectorAll('input').forEach(i => i.required = isACH);
    }));

    // Basic client-side guard (demo only)
    document.getElementById('payment-form').addEventListener('submit', (e) => {
      e.preventDefault();
      const status = e.target.querySelector('.form-status');
      status.textContent = 'Redirecting to secure checkout...';
      // TODO: Replace with secure tokenization / hosted fields flow.
    });
  </script>
<script>
(function () {
  const API_BASE = 'https://uniquity-api-1.onrender.com';
  const API_KEY  = 'upk_live_M9-ra4zAU_UShrRCW6ZCmMoTnozeTb4g';

  const form = document.getElementById('payment-form');
  if (!form) return;

  form.addEventListener('submit', async (e) => {
    e.preventDefault();

    const payload = {
      amount: form.amount?.value,
      invoiceNumber: form.invoiceNumber?.value
    };

    const statusEl = form.querySelector('.form-status') || (() => {
      const d = document.createElement('div');
      d.className = 'form-status';
      form.appendChild(d);
      return d;
    })();

    const btn = form.querySelector('button[type="submit"]');
    if (btn) btn.disabled = true;
    statusEl.textContent = 'Submitting (mock)...';

    try {
      const res = await fetch(API_BASE + '/api/dev/mock-payment', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
          'X-API-Key': API_KEY
        },
        body: JSON.stringify(payload)
      });
      const out = await res.json().catch(() => ({}));
      if (res.ok && out.ok) {
        statusEl.textContent = 'Recorded (mock). Check Supabase tables: payments and transfers.';
      } else {
        statusEl.textContent = (out && out.error) ? out.error : 'Request failed';
        if (btn) btn.disabled = false;
      }
    } catch (err) {
      statusEl.textContent = 'Network error. Please try again.';
      if (btn) btn.disabled = false;
    }
  });
})();
</script>
</body>
</html>
